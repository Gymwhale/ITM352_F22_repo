<script>
/*
This code is an invoice calculator that will compute the grand total of 5 different products that utilize variables to calculate it.
*/

// Product Data
var product_quantities = [5,4,3,2,1,0];
products = [
 { 'name': 'Chicken Katsu', 'price': 10.19 },
 { 'name': 'Teri Beef', 'price': 11.15 },
 { 'name': 'Fried Shrimp', 'price': 9.16 },
 { 'name': 'Kalua Pig', 'price': 7.99 },
 { 'name': 'Arizona Iced Tea', 'price': 2.75 }
];

product_quantities.pop();
//product 1
var food1 = {
     name: 'Chicken Katsu',
     quantity: 8,
     price: 10.19
};
food1.quantity = 4;
food1['SKU#'] = 1234;

//product 2
var food2 = {
     name: 'Teri Beef',
     quantity: 5,
     price: 11.15
};

var food3 = {
     name: 'Fried Shrimp',
     quantity: 6,
     price: 9.16
};

var food4 = {
     name: 'Kalua Pig',
     quantity: 3,
     price: 7.99
};

var food5 = {
     name: 'Arizona Iced Tea',
     quantity: 11,
     price: 2.75
};


//compute extended prices
     var extended_price1 = food1.quantity * food1.price;
     var extended_price2 = food2.quantity * food2.price;
     var extended_price3 = food3.quantity * food3.price;
     var extended_price4 = food4.quantity * food4.price;
     var extended_price5 = food5.quantity * food5.price;

//subtotal, sales tax, & grand total
     var sub_total = extended_price1 + extended_price2 + extended_price3 + extended_price4 + extended_price5;
     var sales_tax = sub_total * 0.0575;
     var grand_total = sub_total + sales_tax;

</script>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice 1 - Lab 8</title>
</head>
<style>
    tr:hover {background-color: yellow;}
  </style>
<table style="border: 1px solid black;text-align: center;"
  onclick="
    new_row = this.appendChild(document.createElement('tr'));
    for(i = 1; i <= this.rows[0].cells.length; i++) {
    new_cell = this.appendChild(document.createElement('td'));
    new_cell.innerHTML = 'xxx';
    }
">

  <tbody id="prodTableBody">
    <tr style="border: 1px solid black;">
    <th style="border: 1px solid black;">Product #</th>
    <th style="border: 1px solid black;">Quantity</th>
    <th style="border: 1px solid black;">Name</th>
    <th style="border: 1px solid black;">Price</th>
    <th style="border: 1px solid black;">Extended Price</th>
    <script>
      // generate table rows
      for(var i=0; i<=product_quantities.length; i++) {
        document.write(`
        <tr style="border: 1px solid black;">
          <td style="border: 1px solid black;">${i+1}</td>
          <td style="border: 1px solid black;">${product_quantities[i]}</td>
          <td style="border: 1px solid black;">${products[i]["name"]}</td>
          <td style="border: 1px solid black;">\$${products[i]["price"]}</td>
          <td style="border: 1px solid black;">\$${(product_quantities[i]*products[i]["price"]).toFixed(2)}</td>
        </tr>
        `);
      }
    </script>
  </tbody>
</table>
<input type="button" value="Add New Row"
onclick="
  prodTableBody.addRow(prodTableBody.rows.length+1);
  ">
<body>
    <table border="2">
        <tbody>
          <tr>
            <th style="text-align: center;" width="43%">Item</th>
            <th style="text-align: center;" width="11%">quantity</th>
            <th style="text-align: center;" width="13%">price</th>
            <th style="text-align: center;" width="54%">extended price</th>
          </tr>
          <script>
            //Chicken Katsu Row
            document.write(`
          <tr>
            <td width="43%">${food1.name}</td>
            <td align="center" width="11%">${food1.quantity}</td>
            <td width="13%">$${food1.price}</td>
            <td width="54%">$${extended_price1}</td>
          </tr>
            `);
          </script>
          <script>
            //Teri Beef Row
            document.write(`
          <tr>
            <td width="43%">${food2.name}</td>
            <td align="center" width="11%">${food2.quantity}</td>
            <td width="13%">$${food2.price}</td>
            <td width="54%">$${extended_price2}</td>
          </tr>
            `);
          </script>
          <script>
            //Fried Shrimp Row
            document.write(`
          <tr>
            <td width="43%">${food3.name}</td>
            <td align="center" width="11%">${food3.quantity}</td>
            <td width="13%">$${food3.price}</td>
            <td width="54%">$${extended_price3}</td>
          </tr>
            `);
          </script>
          <script>
            //Kalua Pig Row
            document.write(`
          <tr>
            <td width="43%">${food4.name}</td>
            <td align="center" width="11%">${food4.quantity}</td>
            <td width="13%">$${food4.price}</td>
            <td width="54%">$${extended_price4}</td>
          </tr>
            `);
          </script>
          <script>
            //Arizona Row
            document.write(`
          <tr>
            <td width="43%">${food5.name}</td>
            <td align="center" width="11%">${food5.quantity}</td>
            <td width="13%">$${food5.price}</td>
            <td width="54%">$${extended_price5}</td>
          </tr>
            `);
            //Sub-Total, Tax, & Grand Total Rows
          </script>
          <tr>
            <td colspan="4" width="100%">&nbsp;</td>
          </tr>
          <tr>
            <td style="text-align: center;" colspan="3" width="67%">Sub-total</td>
            <td width="54%">$<script>document.write(sub_total.toFixed(2))</script></td>
          </tr>
          <tr>
            <td style="text-align: center;" colspan="3" width="67%"><span style="font-family: arial;">Tax @ 5.75%</span></td>
            <td width="54%">$<script>document.write(sales_tax.toFixed(2))</script></td>
          </tr>
          <tr>
            <td style="text-align: center;" colspan="3" width="67%"><strong>Total</strong></td>
            <td width="54%"><strong>$<script>document.write(grand_total.toFixed(2))</script></strong></td>
          </tr>
        </tbody>
      </table>
</body>
</html>